{
    "entities": {
        "Customer": {
            "title": "Customer",
            "description": "Represents a customer of the repair shop.",
            "type": "object",
            "properties": {
                "id": { "type": "string", "description": "Unique identifier for the customer." },
                "name": { "type": "string", "description": "The full name of the customer." },
                "phone": { "type": "string", "description": "The primary phone number for the customer." },
                "email": { "type": "string", "format": "email", "description": "The email address of the customer." }
            },
            "required": ["id", "name", "phone"]
        },
        "Device": {
            "title": "Device",
            "description": "Represents a physical device brought in for repair.",
            "type": "object",
            "properties": {
                "id": { "type": "string", "description": "Unique identifier for the device." },
                "serial_number": { "type": "string", "description": "The unique serial number of the device." },
                "model": { "type": "string", "description": "The model name or number of the device (e.g., 'iPhone 13')." },
                "type": { "type": "string", "enum": ["Phone", "Laptop", "Tablet", "Other"], "description": "The category of the device." }
            },
            "required": ["id", "serial_number", "model", "type"]
        },
        "Job": {
            "title": "Job",
            "description": "Represents a single repair job or service request.",
            "type": "object",
            "properties": {
                "id": { "type": "string", "description": "Unique identifier for the job." },
                "customerId": { "$ref": "#/entities/Customer" },
                "deviceId": { "$ref": "#/entities/Device" },
                "description": { "type": "string", "description": "A detailed description of the reported issue." },
                "status": { "type": "string", "enum": ["To Do", "Waiting", "Ready", "Done"], "description": "The current status of the repair job." },
                "urgency": { "type": "string", "enum": ["low", "medium", "high"], "description": "The urgency level of the job." },
                "tags": { "type": "array", "items": { "type": "string" }, "description": "Descriptive tags for the issue (e.g., 'screen_replacement')." },
                "cost": { "type": "number", "description": "The estimated or final cost of the repair." },
                "createdAt": { "type": "string", "format": "date-time", "description": "Timestamp when the job was created." },
                "updatedAt": { "type": "string", "format": "date-time", "description": "Timestamp when the job was last updated." }
            },
            "required": ["id", "customerId", "deviceId", "description", "status", "urgency", "createdAt", "updatedAt"]
        }
    },
    "auth": {
        "providers": ["anonymous"]
    },
    "firestore": {
        "/customers/{customerId}": {
            "schema": { "$ref": "#/entities/Customer" },
            "description": "Stores all customer information."
        },
        "/devices/{deviceId}": {
            "schema": { "$ref": "#/entities/Device" },
            "description": "Stores all device information, queryable by serial_number."
        },
        "/jobs/{jobId}": {
            "schema": { "$ref": "#/entities/Job" },
            "description": "Stores all job and service request information."
        }
    }
}
